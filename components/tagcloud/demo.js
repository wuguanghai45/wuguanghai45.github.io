webpackJsonp([2,10],{769:function(n,s,a){n.exports={content:{"zh-CN":[["p","\u4e00\u4e2a\u6807\u7b7e\u4e91demo"],["ul",["li",["p",["a",{title:null,href:"https://www.npmjs.com/package/TagCloud"},"\u6765\u6e90NPM"]]],["li",["p",["a",{title:null,href:"https://github.com/mcc108/tagcloud"},"\u6765\u6e90github"]]],["li",["p",["a",{title:null,href:"https://github.com/mcc108/tagcloud/blob/master/src/tagcloud/tagcloud.js"},"\u65e0\u4fee\u6539\u6e90\u7801"]]]],["p","\u6211\u53ea\u662f\u642c\u8fd0\u4e86\u4e00\u4e0b\u4ee3\u7801\uff0c\u4ec5\u4ec5\u4e00\u4e9b\u5c0f\u4fee\u6539"]],"en-US":[]},meta:{order:0,title:{"zh-CN":"\u7b2c\u4e00\u4e2a\u6807\u7b7e\u4e91demo","en-US":"TagCloud"},filename:"components/tagcloud/demo/demo1.md",id:"components-tagcloud-demo-demo1"},toc:["ul",["li",["a",{className:"bisheng-toc-h2",href:"#zh-CN",title:"zh-CN"},"zh-CN"]],["li",["a",{className:"bisheng-toc-h2",href:"#en-US",title:"en-US"},"en-US"]]],highlightedCode:["pre",{lang:"jsx",highlighted:'<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">"prop-types"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">TagCloud</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token keyword">static</span> propsTypes <span class="token operator">=</span> <span class="token punctuation">{</span>\n    style<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">,</span>\n    fontSize<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>\n    radius<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>\n    direction<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>\n    keep<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>bool<span class="token punctuation">,</span>\n    mspeed<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>\n    ispeed<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>up<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  update <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>\n\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>active <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>keep<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>mouseX <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mouseX <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseX0<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseX0 <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mouseX <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseX0<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//\u91cd\u7f6e\u9f20\u6807\u4e0e\u6eda\u52a8\u5706\u5fc3x\u8f74\u8ddd\u79bb</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>mouseY <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mouseY <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseY0<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseY0 <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mouseY <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseY0<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//\u91cd\u7f6e\u9f20\u6807\u4e0e\u6eda\u52a8\u5706\u5fc3y\u8f74\u8ddd\u79bb</span>\n    <span class="token punctuation">}</span>\n\n    a <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>mouseY<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mspeed<span class="token punctuation">;</span>\n    b <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>mouseX<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mspeed<span class="token punctuation">;</span>\n\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0.01</span> <span class="token operator">&amp;&amp;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0.01</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span>lasta <span class="token operator">=</span> a<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>lastb <span class="token operator">=</span> b<span class="token punctuation">;</span>\n\n    <span class="token keyword">var</span> sc <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getSc</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">var</span> rx1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>\n        ry1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">*</span>sc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">-</span>sc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        rz1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">*</span>sc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token operator">*</span>sc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n      <span class="token keyword">var</span> rx2 <span class="token operator">=</span> rx1 <span class="token operator">*</span> sc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> rz1 <span class="token operator">*</span> sc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n        ry2 <span class="token operator">=</span> ry1<span class="token punctuation">,</span>\n        rz2 <span class="token operator">=</span> rz1 <span class="token operator">*</span> sc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">-</span> rx1 <span class="token operator">*</span> sc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n      <span class="token keyword">var</span> per <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>depth <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>depth <span class="token operator">+</span> rz2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> rx2<span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> ry2<span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>z <span class="token operator">=</span> rz2<span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>scale <span class="token operator">=</span> per<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//\u53d6\u503c\u8303\u56f40.6 ~ 3</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>fontSize <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>per <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fontSize <span class="token operator">-</span> <span class="token number">6</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha <span class="token operator">=</span> <span class="token number">1.5</span> <span class="token operator">*</span> per <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">;</span>\n\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>fontSize <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>filter <span class="token operator">=</span> <span class="token string">"alpha(opacity="</span> <span class="token operator">+</span> <span class="token number">100</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  _getIsSpeed <span class="token operator">=</span> <span class="token punctuation">(</span>ispeed<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> speedMap <span class="token operator">=</span> <span class="token punctuation">{</span>\n      slow<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>\n      normal<span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span>\n      fast<span class="token punctuation">:</span> <span class="token number">50</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> speedMap<span class="token punctuation">[</span>ispeed<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">25</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  _getItems <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    <span class="token keyword">let</span> element <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>children<span class="token punctuation">;</span>\n    <span class="token keyword">let</span> length <span class="token operator">=</span> element<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n    <span class="token keyword">let</span> item<span class="token punctuation">;</span>\n\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      item <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>angle <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>angle<span class="token punctuation">.</span>phi <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">acos</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>angle<span class="token punctuation">.</span>theta <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">)</span> <span class="token operator">*</span> item<span class="token punctuation">.</span>angle<span class="token punctuation">.</span>phi<span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>element <span class="token operator">=</span> element<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>offsetWidth <span class="token operator">=</span> item<span class="token punctuation">.</span>element<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>offsetHeight <span class="token operator">=</span> item<span class="token punctuation">.</span>element<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>angle<span class="token punctuation">.</span>theta<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>angle<span class="token punctuation">.</span>phi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>angle<span class="token punctuation">.</span>theta<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>angle<span class="token punctuation">.</span>phi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>angle<span class="token punctuation">.</span>phi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> item<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> item<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>\n      item<span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> item<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> item<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>\n      items<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">return</span> items<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//\u5355\u5143\u7d20\u6570\u7ec4</span>\n  <span class="token punctuation">}</span>\n\n  _getMsSpeed <span class="token operator">=</span> <span class="token punctuation">(</span>mspeed<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> speedMap <span class="token operator">=</span> <span class="token punctuation">{</span>\n      slow<span class="token punctuation">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span>\n      normal<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>\n      fast<span class="token punctuation">:</span> <span class="token number">5</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> speedMap<span class="token punctuation">[</span>mspeed<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">3</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  getConfig <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span>\n      fontSize<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span>       <span class="token comment" spellcheck="true">//\u57fa\u672c\u5b57\u4f53\u5927\u5c0f, \u5355\u4f4dpx</span>\n      radius<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>         <span class="token comment" spellcheck="true">//\u6eda\u52a8\u534a\u5f84, \u5355\u4f4dpx</span>\n      mspeed<span class="token punctuation">:</span> <span class="token string">"normal"</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">//\u6eda\u52a8\u6700\u5927\u901f\u5ea6, \u53d6\u503c: slow, normal(\u9ed8\u8ba4), fast</span>\n      ispeed<span class="token punctuation">:</span> <span class="token string">"normal"</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">//\u6eda\u52a8\u521d\u901f\u5ea6, \u53d6\u503c: slow, normal(\u9ed8\u8ba4), fast</span>\n      direction<span class="token punctuation">:</span> <span class="token number">135</span><span class="token punctuation">,</span>     <span class="token comment" spellcheck="true">//\u521d\u59cb\u6eda\u52a8\u65b9\u5411, \u53d6\u503c\u89d2\u5ea6(\u987a\u65f6\u9488360): 0\u5bf9\u5e94top, 90\u5bf9\u5e94left, 135\u5bf9\u5e94right-bottom(\u9ed8\u8ba4)...</span>\n      keep<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>         <span class="token comment" spellcheck="true">//\u9f20\u6807\u79fb\u51fa\u7ec4\u4ef6\u540e\u662f\u5426\u7ee7\u7eed\u968f\u9f20\u6807\u6eda\u52a8, \u53d6\u503c: false, true(\u9ed8\u8ba4) \u5bf9\u5e94 \u51cf\u901f\u81f3\u521d\u901f\u5ea6\u6eda\u52a8, \u968f\u9f20\u6807\u6eda\u52a8</span>\n      <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">,</span>\n      element<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>wrap<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  _getSc <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">var</span> l <span class="token operator">=</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">;</span>\n    <span class="token comment" spellcheck="true">//\u6570\u7ec4\u987a\u5e8f0,1,2,3\u8868\u793aasin,acos,bsin,bcos</span>\n    <span class="token keyword">return</span> <span class="token punctuation">[</span>\n      Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>a <span class="token operator">*</span> l<span class="token punctuation">)</span><span class="token punctuation">,</span>\n      Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>a <span class="token operator">*</span> l<span class="token punctuation">)</span><span class="token punctuation">,</span>\n      Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>b <span class="token operator">*</span> l<span class="token punctuation">)</span><span class="token punctuation">,</span>\n      Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>b <span class="token operator">*</span> l<span class="token punctuation">)</span>\n    <span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  init <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>config <span class="token operator">=</span> config<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>fontSize <span class="token operator">=</span> config<span class="token punctuation">.</span>fontSize<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> config<span class="token punctuation">.</span>radius<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>depth <span class="token operator">=</span> <span class="token number">1.5</span> <span class="token operator">*</span> config<span class="token punctuation">.</span>radius<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">1.5</span> <span class="token operator">*</span> config<span class="token punctuation">.</span>radius<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>box <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>wrap<span class="token punctuation">;</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span>mspeed <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getMsSpeed</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>mspeed<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>ispeed <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getIsSpeed</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>ispeed<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span>direction <span class="token operator">=</span> config<span class="token punctuation">.</span>direction<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//\u521d\u59cb\u6eda\u52a8\u65b9\u5411</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>keep <span class="token operator">=</span> config<span class="token punctuation">.</span>keep<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//\u9f20\u6807\u79fb\u51fa\u540e\u662f\u5426\u4fdd\u6301\u4e4b\u524d\u6eda\u52a8</span>\n\n    <span class="token comment" spellcheck="true">//\u521d\u59cb\u5316</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>active <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//\u662f\u5426\u4e3a\u6fc0\u6d3b\u72b6\u6001</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>lasta <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>lastb <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>mouseX0 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ispeed <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>direction <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//\u9f20\u6807\u4e0e\u6eda\u52a8\u5706\u5fc3x\u8f74\u521d\u59cb\u8ddd\u79bb</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>mouseY0 <span class="token operator">=</span> <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>ispeed <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>direction <span class="token operator">*</span> Math<span class="token punctuation">.</span>PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//\u9f20\u6807\u4e0e\u6eda\u52a8\u5706\u5fc3y\u8f74\u521d\u59cb\u8ddd\u79bb</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>mouseX <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseX0<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//\u9f20\u6807\u4e0e\u6eda\u52a8\u5706\u5fc3x\u8f74\u8ddd\u79bb</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>mouseY <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseY0<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//\u9f20\u6807\u4e0e\u6eda\u52a8\u5706\u5fc3y\u8f74\u8ddd\u79bb</span>\n\n    <span class="token comment" spellcheck="true">//\u5b9a\u65f6\u66f4\u65b0</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//\u521d\u59cb\u66f4\u65b0</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>visibility <span class="token operator">=</span> <span class="token string">"visible"</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">"relative"</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>minHeight <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>minWidth <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">"absolute"</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>up <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  handleMouseOver <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>active <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  handleMouseOut <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>active <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  handleMouseMove <span class="token operator">=</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> boxPosition <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>mouseX <span class="token operator">=</span> <span class="token punctuation">(</span>ev<span class="token punctuation">.</span>clientX <span class="token operator">-</span> <span class="token punctuation">(</span>boxPosition<span class="token punctuation">.</span>left <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>offsetWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>mouseY <span class="token operator">=</span> <span class="token punctuation">(</span>ev<span class="token punctuation">.</span>clientY <span class="token operator">-</span> <span class="token punctuation">(</span>boxPosition<span class="token punctuation">.</span>top <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>box<span class="token punctuation">.</span>offsetHeight <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">5</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>style<span class="token punctuation">}</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>ref<span class="token operator">=</span><span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>wrap<span class="token operator">=</span>ref<span class="token punctuation">}</span></span>\n        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tagcloud<span class="token punctuation">"</span></span> <span class="token attr-name">onMouseOver</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseOver<span class="token punctuation">}</span></span>\n        <span class="token attr-name">onMouseMove</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseMove<span class="token punctuation">}</span></span>\n        <span class="token attr-name">onMouseOut</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseOut<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  handleClick <span class="token operator">=</span> <span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token function">alert</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TagCloud</span> <span class="token attr-name">fontSize</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">30</span><span class="token punctuation">}</span></span> <span class="token attr-name">radius</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">60</span><span class="token punctuation">}</span></span> <span class="token attr-name">mspeed</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fast<span class="token punctuation">"</span></span> <span class="token attr-name">ispeed</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fast<span class="token punctuation">"</span></span> <span class="token attr-name">direction</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">200</span><span class="token punctuation">}</span></span> <span class="token attr-name">keep</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"text1"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>text1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"text2"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>text2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"text3"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>text3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"text4"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>text4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"text5"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>text5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">"text6"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>text6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TagCloud</span><span class="token punctuation">></span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span> <span class="token punctuation">/></span></span>\n<span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span>'
}],preview:function(){function n(n){return n&&n.__esModule?n:{"default":n}}function s(n,s){for(var a=Object.getOwnPropertyNames(s),t=0;t<a.length;t++){var p=a[t],o=Object.getOwnPropertyDescriptor(s,p);o&&o.configurable&&void 0===n[p]&&Object.defineProperty(n,p,o)}return n}function t(n,s){if(!(n instanceof s))throw new TypeError("Cannot call a class as a function")}function p(n,s){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?n:s}function o(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):s(n,a))}var e=(a(1),a(12),Object.assign||function(n){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n}),c=a(1),u=n(c),l=a(2),k=n(l),i=function(n){function s(){var a,o,c;t(this,s);for(var u=arguments.length,l=Array(u),k=0;k<u;k++)l[k]=arguments[k];return a=o=p(this,n.call.apply(n,[this].concat(l))),o.update=function(){var n=void 0,s=void 0;if(o.active||o.keep||(o.mouseX=Math.abs(o.mouseX-o.mouseX0)<1?o.mouseX0:(o.mouseX+o.mouseX0)/2,o.mouseY=Math.abs(o.mouseY-o.mouseY0)<1?o.mouseY0:(o.mouseY+o.mouseY0)/2),n=-(Math.min(Math.max(-o.mouseY,-o.size),o.size)/o.radius)*o.mspeed,s=Math.min(Math.max(-o.mouseX,-o.size),o.size)/o.radius*o.mspeed,!(Math.abs(n)<=.01&&Math.abs(s)<=.01)){o.lasta=n,o.lastb=s;for(var a=o._getSc(n,s),t=0,p=o.items.length;t<p;t++){var e=o.items[t].x,c=o.items[t].y*a[1]+o.items[t].z*-a[0],u=o.items[t].y*a[0]+o.items[t].z*a[1],l=e*a[3]+u*a[2],k=c,i=u*a[3]-e*a[2],r=o.depth/(o.depth+i);o.items[t].x=l,o.items[t].y=k,o.items[t].z=i,o.items[t].scale=r,o.items[t].fontSize=Math.ceil(3*r)+o.fontSize-6,o.items[t].alpha=1.5*r-.5,o.items[t].element.style.left=o.items[t].x+(o.box.offsetWidth-o.items[t].offsetWidth)/2+"px",o.items[t].element.style.top=o.items[t].y+(o.box.offsetHeight-o.items[t].offsetHeight)/2+"px",o.items[t].element.style.fontSize=o.items[t].fontSize+"px",o.items[t].element.style.filter="alpha(opacity="+100*o.items[t].alpha+")",o.items[t].element.style.opacity=o.items[t].alpha}}},o._getIsSpeed=function(n){var s={slow:10,normal:25,fast:50};return s[n]||25},o._getItems=function(){for(var n=[],s=o.box.children,a=s.length,t=void 0,p=0;p<a;p++)t={},t.angle={},t.angle.phi=Math.acos(-1+(2*p+1)/a),t.angle.theta=Math.sqrt((a+1)*Math.PI)*t.angle.phi,t.element=s[p],t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.x=o.radius*Math.cos(t.angle.theta)*Math.sin(t.angle.phi),t.y=o.radius*Math.sin(t.angle.theta)*Math.sin(t.angle.phi),t.z=o.radius*Math.cos(t.angle.phi),t.element.style.left=t.x+(o.box.offsetWidth-t.offsetWidth)/2+"px",t.element.style.top=t.y+(o.box.offsetHeight-t.offsetHeight)/2+"px",n.push(t);return n},o._getMsSpeed=function(n){var s={slow:1.5,normal:3,fast:5};return s[n]||3},o.getConfig=function(){return e({fontSize:16,radius:60,mspeed:"normal",ispeed:"normal",direction:135,keep:!0},o.props,{element:o.wrap})},o._getSc=function(n,s){var a=Math.PI/180;return[Math.sin(n*a),Math.cos(n*a),Math.sin(s*a),Math.cos(s*a)]},o.init=function(){var n=o.getConfig();o.config=n,o.fontSize=n.fontSize,o.radius=n.radius,o.depth=1.5*n.radius,o.size=1.5*n.radius,o.box=o.wrap,o.mspeed=o._getMsSpeed(n.mspeed),o.ispeed=o._getIsSpeed(n.ispeed),o.items=o._getItems(),o.direction=n.direction,o.keep=n.keep,o.active=!1,o.lasta=1,o.lastb=1,o.mouseX0=o.ispeed*Math.sin(o.direction*Math.PI/180),o.mouseY0=-o.ispeed*Math.cos(o.direction*Math.PI/180),o.mouseX=o.mouseX0,o.mouseY=o.mouseY0,o.update(),o.box.style.visibility="visible",o.box.style.position="relative",o.box.style.minHeight=2*o.size+"px",o.box.style.minWidth=2*o.size+"px";for(var s=0,a=o.items.length;s<a;s++)o.items[s].element.style.position="absolute",o.items[s].element.style.zIndex=s+1;o.up=setInterval(function(){o.update()},30)},o.handleMouseOver=function(){o.active=!0},o.handleMouseOut=function(){o.active=!1},o.handleMouseMove=function(n){var s=o.box.getBoundingClientRect();o.mouseX=(n.clientX-(s.left+o.box.offsetWidth/2))/5,o.mouseY=(n.clientY-(s.top+o.box.offsetHeight/2))/5},c=a,p(o,c)}return o(s,n),s.prototype.componentDidMount=function(){this.init()},s.prototype.componentWillUnmount=function(){clearInterval(this.up)},s.prototype.render=function(){var n=this;return u["default"].createElement("div",{style:this.props.style,ref:function(s){return n.wrap=s},className:"tagcloud",onMouseOver:this.handleMouseOver,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut},this.props.children)},s}(c.Component);i.propsTypes={style:k["default"].object,fontSize:k["default"].number,radius:k["default"].number,direction:k["default"].number,keep:k["default"].bool,mspeed:k["default"].string,ispeed:k["default"].string};var r=function(n){function s(){var a,o,e;t(this,s);for(var c=arguments.length,u=Array(c),l=0;l<c;l++)u[l]=arguments[l];return a=o=p(this,n.call.apply(n,[this].concat(u))),o.handleClick=function(n){alert(n)},e=a,p(o,e)}return o(s,n),s.prototype.render=function(){return u["default"].createElement(i,{fontSize:30,radius:60,mspeed:"fast",ispeed:"fast",direction:200,keep:!0},u["default"].createElement("a",{onClick:this.handleClick.bind(this,"text1")},"text1"),u["default"].createElement("a",{onClick:this.handleClick.bind(this,"text2")},"text2"),u["default"].createElement("a",{onClick:this.handleClick.bind(this,"text3")},"text3"),u["default"].createElement("a",{onClick:this.handleClick.bind(this,"text4")},"text4"),u["default"].createElement("a",{onClick:this.handleClick.bind(this,"text5")},"text5"),u["default"].createElement("a",{onClick:this.handleClick.bind(this,"text6")},"text6"))},s}(c.Component);return u["default"].createElement(r,null)}}},777:function(n,s,a){n.exports={demo1:a(769)}}});